{"version":3,"sources":["containers/auth/login.module.css","containers/auth/login.js"],"names":["module","exports","form","change","box","Login","state","login","event","preventDefault","email","_this","props","values","password","issignup","auth","changes","setState","prevState","this","purchasing","authredirect","setredirect","token","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_12__","to","Fragment","style","color","textAlign","formik__WEBPACK_IMPORTED_MODULE_7__","className","classes","onSubmit","error","name","type","placeholder","required","_components_ui_buttons_button__WEBPACK_IMPORTED_MODULE_10__","btntype","clicked","React","Component","Formikapp","withFormik","mapPropsToValues","validationSchema","Yup","shape","min","connect","loginerror","dispatch","actionCreator"],"mappings":"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","file":"static/js/4.8274b788.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"login_form__2kacI\",\"change\":\"login_change__VGk1w\",\"box\":\"login_box__3SA2P\"};","import React from 'react';\r\n\r\nimport classes from './login.module.css';\r\nimport {Form , Field, withFormik , ErrorMessage} from 'formik';\r\nimport * as Yup from 'yup';\r\nimport {connect} from 'react-redux';\r\nimport Button from '../../components/ui/buttons/button';\r\nimport * as actionCreator from '../../store/actioncreator';\r\nimport {Redirect}  from 'react-router-dom';\r\nclass Login extends React.Component {\r\n\r\nstate = {\r\n\r\nchange : true\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\ncomponentDidMount(){\r\n\r\nif(this.props.purchasing === false  && this.props.authredirect === '/')\r\n\r\nthis.props.setredirect();\r\n\r\n\r\n}\r\n\r\n// for login form\r\n\r\nlogin = (event) => {\r\n\r\n  event.preventDefault();\r\n\r\nconst email = this.props.values.email;\r\nconst password = this.props.values.password;\r\nconst issignup = this.state.change;\r\n\r\nthis.props.auth(email , password , issignup) ;\r\n\r\n\r\n}\r\n\r\n\r\n//chagning form\r\n\r\nchanges =() => {\r\n\r\nthis.setState( (prevState) => {\r\n\r\nreturn {\r\n\r\nchange : !prevState.change\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n})\r\n\r\n\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  render () {\r\n\r\n\r\n// for redirectling the login users\r\n\r\nlet authredirect = null ;\r\n\r\n\r\nif(this.props.token != null ) {\r\n\r\n\r\nauthredirect = <Redirect to= {this.props.authredirect} />\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // for form switching .....\r\n\r\nlet form = (\r\n\r\n<React.Fragment>\r\n\r\n\r\n   <h2 style={{color: '#703809' , textAlign: 'center'}}> LOGIN FORM! </h2>\r\n  <Form className={classes.form} onSubmit={this.login}>\r\n  {this.props.error === true ? <p> email and password are not correct</p> : null}\r\n       <label><b>Email</b></label>\r\n        <p><ErrorMessage name=\"email\"/></p>\r\n       <Field type=\"email\" placeholder=\"Enter Email\" name=\"email\" required/>\r\n\r\n       <label><b>Password</b></label>\r\n        <p><ErrorMessage name=\"password\"/></p>\r\n       <Field type=\"password\" placeholder=\"Enter Password\" name=\"password\" required/>\r\n\r\n       <button type=\"submit\" >Login</button>\r\n\r\n  </Form>\r\n  </React.Fragment>\r\n\r\n)\r\n\r\nif (this.state.change === true) {\r\n\r\nform =(\r\n\r\n<React.Fragment>\r\n\r\n<h2 style={{color: '#703809' , textAlign: 'center'}}> SIGNUP FORM! </h2>\r\n<Form className={classes.form} onSubmit={this.login}>\r\n  {this.props.error === true ? <p>email already exist </p>: null}\r\n     <label><b>Email</b></label>\r\n      <p><ErrorMessage name=\"email\"/></p>\r\n     <Field type=\"email\" placeholder=\"Enter Email\" name=\"email\" required/>\r\n\r\n     <label><b>Password</b></label>\r\n      <p><ErrorMessage name=\"password\"/></p>\r\n     <Field type=\"password\" placeholder=\"Enter Password\" name=\"password\" required/>\r\n\r\n     <button type=\"submit\" >REGISTER</button>\r\n</Form>\r\n</React.Fragment>\r\n\r\n)\r\n\r\n}\r\n\r\n\r\n\r\nreturn(\r\n\r\n<div>\r\n\r\n{authredirect}\r\n  <div className={classes.box}>\r\n{form}\r\n\r\n<div className={classes.change}>\r\n<Button btntype=\"Danger\"  clicked={this.changes}> SWITCH TO {this.state.change === true ?  'LOGIN' : 'SIGNUP' }</Button>\r\n\r\n</div>\r\n </div>\r\n\r\n\r\n\r\n</div>\r\n\r\n\r\n)\r\n\r\n\r\n\r\n  }\r\n}\r\n\r\nconst Formikapp = withFormik({\r\n\r\n\r\n mapPropsToValues(props)  {\r\n\r\n\r\n\r\nreturn {\r\n\r\nemail :  props.email || '',\r\npassword : props.password || '',\r\n\r\n\r\n\r\n\r\n\r\n}\r\n},\r\n\r\nvalidationSchema : Yup.object().shape({\r\n\r\nemail : Yup.string().email().required('* Email is required!'),\r\npassword : Yup.string().min(6).required('* password is required!'),\r\n\r\n\r\n})\r\n\r\n\r\n\r\n})(Login)\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\nreturn {\r\n\r\nloginerror : state.loginerror,\r\n\r\nerror  :  state.error,\r\ntoken : state.token,\r\npurchasing : state.purchasing,\r\nauthredirect : state.authredirect\r\n\r\n}\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\nconst mapPropsToDispatch = (dispatch) =>{\r\n\r\nreturn{\r\n\r\nauth : (email, password , issignup) => dispatch(actionCreator.auth(email , password , issignup)),\r\nsetredirect : () => dispatch(actionCreator.authredirect('/'))\r\n\r\n\r\n}\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default connect(mapStateToProps , mapPropsToDispatch)(Formikapp);\r\n"],"sourceRoot":""}